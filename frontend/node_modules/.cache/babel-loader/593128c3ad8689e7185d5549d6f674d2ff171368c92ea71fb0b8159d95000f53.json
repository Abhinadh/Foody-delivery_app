{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\abhin\\\\Desktop\\\\GitHub\\\\Foody\\\\frontend\\\\src\\\\pages\\\\HomePage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from \"react\";\nimport axios from \"axios\";\nimport \"../styles/Homepage.css\";\nimport { useUser } from \"../context/UserContext\";\nimport { FaStar, FaStarHalfAlt } from \"react-icons/fa\";\nimport DescriptionModal from \"./Description\";\nimport RestaurantModal from \"./RestaurantModel\"; // Import the new component\nimport { useSearch } from \"../context/SearchContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst foodCategories = [{\n  name: \"Pizza\",\n  icon: \"🍕\"\n}, {\n  name: \"Burger\",\n  icon: \"🍔\"\n}, {\n  name: \"Sushi\",\n  icon: \"🍣\"\n}, {\n  name: \"Drinks\",\n  icon: \"🥤\"\n}, {\n  name: \"Donut\",\n  icon: \"🍩\"\n}, {\n  name: \"Salads\",\n  icon: \"🥗\"\n}, {\n  name: \"Steak\",\n  icon: \"🥩\"\n}, {\n  name: \"Pasta\",\n  icon: \"🍝\"\n}, {\n  name: \"Ice Cream\",\n  icon: \"🍦\"\n}];\nconst Home = () => {\n  _s();\n  const {\n    user\n  } = useUser();\n  const [selectedCategory, setSelectedCategory] = useState(null);\n  const [menuItems, setMenuItems] = useState([]);\n  const [allMenuItems, setAllMenuItems] = useState([]);\n  const [selectedItem, setSelectedItem] = useState(null);\n  const [foods, setFoods] = useState([]);\n  const [restaurantNames, setRestaurantNames] = useState({}); //restname\n\n  const [selectedRestaurant, setSelectedRestaurant] = useState(null);\n  const [restaurantDetails, setRestaurantDetails] = useState(null); // Add this state for restaurant modal\n  const [filters, setFilters] = useState({\n    ratingAbove3: false,\n    ratingAbove4: false,\n    price100to200: false,\n    price200to300: false,\n    price300to400: false,\n    vegetarian: false,\n    nonVegetarian: false\n  });\n  const scrollRef = useRef(null);\n  const [restaurants, setRestaurants] = useState([]);\n  const [allRestaurants, setAllRestaurants] = useState([]);\n  const {\n    searchQuery\n  } = useSearch();\n\n  //restname\n  useEffect(() => {\n    const fetchRestaurantNames = async () => {\n      const namePromises = menuItems.map(async item => {\n        try {\n          const response = await axios.get(`http://localhost:5000/api/auth/menu-items/restaurant/name/${item.restaurantId}`);\n          return {\n            itemId: item._id,\n            name: response.data.name\n          };\n        } catch (error) {\n          console.error('Error fetching restaurant name:', error);\n          return {\n            itemId: item._id,\n            name: 'Unknown Restaurant'\n          };\n        }\n      });\n      const results = await Promise.all(namePromises);\n\n      // Convert array of results to an object with item IDs as keys\n      const namesMap = {};\n      results.forEach(result => {\n        namesMap[result.itemId] = result.name;\n      });\n      setRestaurantNames(namesMap);\n    };\n    if (menuItems.length > 0) {\n      fetchRestaurantNames();\n    }\n  }, [menuItems]);\n  useEffect(() => {\n    axios.get(\"http://localhost:5000/api/auth/menu-items\").then(res => {\n      setAllMenuItems(res.data);\n      setMenuItems(res.data);\n    }).catch(err => console.error(err));\n  }, []);\n  useEffect(() => {\n    axios.get(\"http://localhost:5000/api/auth/admin/restaurants\").then(res => {\n      const approvedRestaurants = res.data.filter(restaurant => restaurant.approved);\n      setRestaurants(approvedRestaurants);\n      setAllRestaurants(approvedRestaurants);\n    }).catch(err => console.error(err));\n  }, []);\n  useEffect(() => {\n    if (selectedRestaurant) {\n      setMenuItems(allMenuItems.filter(item => item.restaurantId === selectedRestaurant._id));\n    } else {\n      setMenuItems(allMenuItems);\n    }\n  }, [selectedRestaurant, allMenuItems]);\n  useEffect(() => {\n    let filteredItems = allMenuItems;\n    if (selectedCategory) {\n      filteredItems = filteredItems.filter(item => item.name.toLowerCase().includes(selectedCategory.toLowerCase()));\n    }\n    if (searchQuery) {\n      filteredItems = filteredItems.filter(item => item.name.toLowerCase().includes(searchQuery.toLowerCase()));\n    }\n    if (filters.ratingAbove3) {\n      filteredItems = filteredItems.filter(item => item.rating >= 3);\n    }\n    if (filters.ratingAbove4) {\n      filteredItems = filteredItems.filter(item => item.rating >= 4);\n    }\n    if (filters.price100to200) {\n      filteredItems = filteredItems.filter(item => item.price >= 100 && item.price <= 200);\n    }\n    if (filters.price200to300) {\n      filteredItems = filteredItems.filter(item => item.price >= 200 && item.price <= 300);\n    }\n    if (filters.price300to400) {\n      filteredItems = filteredItems.filter(item => item.price >= 300 && item.price <= 400);\n    }\n    if (filters.vegetarian) {\n      filteredItems = filteredItems.filter(item => item.type === \"Vegetarian\");\n    }\n    if (filters.nonVegetarian) {\n      filteredItems = filteredItems.filter(item => item.type === \"Non-Vegetarian\");\n    }\n    setMenuItems(filteredItems);\n  }, [selectedCategory, searchQuery, allMenuItems, filters]);\n  useEffect(() => {\n    if (searchQuery) {\n      const filteredRestaurants = allRestaurants.filter(restaurant => restaurant.name.toLowerCase().includes(searchQuery.toLowerCase()));\n      setRestaurants(filteredRestaurants);\n    } else {\n      setRestaurants(allRestaurants);\n    }\n  }, [searchQuery, allRestaurants]);\n  const handleFilterChange = filterType => {\n    setFilters(prevFilters => ({\n      ...prevFilters,\n      [filterType]: !prevFilters[filterType]\n    }));\n  };\n  const renderStars = rating => {\n    const fullStars = Math.floor(rating);\n    const halfStar = rating % 1 >= 0.5;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"star-rating\",\n      children: [[...Array(fullStars)].map((_, i) => /*#__PURE__*/_jsxDEV(FaStar, {\n        color: \"red\"\n      }, `full-${i}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 21\n      }, this)), halfStar && /*#__PURE__*/_jsxDEV(FaStarHalfAlt, {\n        color: \"red\"\n      }, \"half\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 30\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 13\n    }, this);\n  };\n  const renderResStars = rating => {\n    const fullStars = Math.floor(rating);\n    const halfStar = rating % 1 >= 0.5;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"star-rating\",\n      children: [[...Array(fullStars)].map((_, i) => /*#__PURE__*/_jsxDEV(FaStar, {\n        color: \"gold\"\n      }, `full-${i}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 21\n      }, this)), halfStar && /*#__PURE__*/_jsxDEV(FaStarHalfAlt, {\n        color: \"gold\"\n      }, \"half\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 30\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 13\n    }, this);\n  };\n  const handleBuyNow = item => {\n    setSelectedItem(item);\n  };\n  const scrollLeft = () => {\n    if (scrollRef.current) {\n      scrollRef.current.scrollBy({\n        left: -300,\n        behavior: \"smooth\"\n      });\n    }\n  };\n  const scrollRight = () => {\n    if (scrollRef.current) {\n      scrollRef.current.scrollBy({\n        left: 300,\n        behavior: \"smooth\"\n      });\n    }\n  };\n  useEffect(() => {\n    const interval = setInterval(() => {\n      if (scrollRef.current) {\n        scrollRef.current.scrollBy({\n          left: 300,\n          behavior: \"smooth\"\n        });\n      }\n    }, 2000);\n    return () => clearInterval(interval);\n  }, []);\n\n  // Function to fetch restaurant details when clicked\n  const handleRestaurantClick = async restaurant => {\n    try {\n      // Set the restaurant immediately to show the modal faster\n      setRestaurantDetails(restaurant);\n\n      // Then fetch additional details if needed\n      const response = await axios.get(`http://localhost:5000/api/auth/restaurants/name/${restaurant._id}`);\n      setRestaurantDetails(response.data);\n      setSelectedRestaurant(response.data);\n    } catch (error) {\n      console.error(\"Error fetching restaurant details:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home-container-kjmn\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"scroll-container-kjmn\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"scroll-wrapper-kjmn\",\n        children: [...foodCategories, ...foodCategories, ...foodCategories].map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"food-icon-kjmn\",\n          onClick: () => setSelectedCategory(item.name),\n          children: item.icon\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"menu-heading\",\n      style: {\n        textAlign: \"left\",\n        marginLeft: \"20px\"\n      },\n      children: \"Here you go! Choose your favorite meal \\uD83C\\uDF7D\\uFE0F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filter-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `filter-btn ${filters.ratingAbove3 ? \"active\" : \"\"}`,\n        onClick: () => handleFilterChange(\"ratingAbove3\"),\n        children: \"Rating 3 & Above\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `filter-btn ${filters.ratingAbove4 ? \"active\" : \"\"}`,\n        onClick: () => handleFilterChange(\"ratingAbove4\"),\n        children: \"Rating 4 & Above\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `filter-btn ${filters.price100to200 ? \"active\" : \"\"}`,\n        onClick: () => handleFilterChange(\"price100to200\"),\n        children: \"Price \\u20B9100 - \\u20B9200\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `filter-btn ${filters.price200to300 ? \"active\" : \"\"}`,\n        onClick: () => handleFilterChange(\"price200to300\"),\n        children: \"Price \\u20B9200 - \\u20B9300\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `filter-btn ${filters.price300to400 ? \"active\" : \"\"}`,\n        onClick: () => handleFilterChange(\"price300to400\"),\n        children: \"Price \\u20B9300 - \\u20B9400\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"menu-scroll-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"scroll-btn left\",\n        onClick: scrollLeft,\n        children: \"<\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"menu-scroll-wrapper\",\n        ref: scrollRef,\n        children: menuItems.length > 0 ? menuItems.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"menu-card-kjmn\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"menu-image-kjmn\",\n            src: `http://localhost:5000/api/auth/restaurant/menu/image/${item._id}`,\n            alt: item.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"menu-info-kjmn\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"menu-title\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  border: \"2px solid #ddd\",\n                  padding: \"12px 20px\",\n                  borderRadius: \"12px\",\n                  backgroundColor: \"#f5f5f5\",\n                  display: \"inline-block\",\n                  textAlign: \"center\",\n                  width: \"200px\",\n                  // Increased width to make it stretch a little\n                  boxShadow: \"4px 4px 10px rgba(0, 0, 0, 0.1)\",\n                  transition: \"0.3s\",\n                  fontFamily: \"Arial, sans-serif\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  style: {\n                    color: \"#777\",\n                    fontSize: \"12px\",\n                    fontWeight: \"bold\",\n                    display: \"block\",\n                    opacity: \"0.7\" // Makes the label dimmer\n                  },\n                  children: \"Restaurant\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 330,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                  style: {\n                    color: \"#333\",\n                    fontSize: \"14px\",\n                    margin: \"5px 0\",\n                    fontWeight: \"500\"\n                  },\n                  children: restaurantNames[item._id]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 339,\n                  columnNumber: 5\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"rating-container\",\n                children: [renderStars(item.rating), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"buy-now-btn\",\n                  onClick: () => handleBuyNow(item),\n                  children: \"Buy Now\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"menu-desc-kjmn\",\n              children: item.description || \"No description available.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"menu-price-kjmn\",\n              style: {\n                color: \"green\",\n                fontWeight: \"bold\"\n              },\n              children: [\"\\u20B9\", item.price, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 33\n          }, this)]\n        }, item._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 29\n        }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"no-items\",\n          children: \"No items found in this category\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"scroll-btn right\",\n        onClick: scrollRight,\n        children: \">\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"best-restaurants-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Best Restaurants \\uD83C\\uDF7D\\uFE0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"restaurant-list\",\n        children: restaurants.length > 0 ? restaurants.map(restaurant => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"restaurant-box\",\n          onClick: () => handleRestaurantClick(restaurant),\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: restaurant.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rating-container\",\n            children: [renderResStars(restaurant.rating), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"(\", restaurant.rating, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 33\n          }, this)]\n        }, restaurant._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 29\n        }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No approved restaurants available\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 13\n    }, this), selectedItem && /*#__PURE__*/_jsxDEV(DescriptionModal, {\n      item: selectedItem,\n      onClose: () => setSelectedItem(null)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 17\n    }, this), restaurantDetails && /*#__PURE__*/_jsxDEV(RestaurantModal, {\n      restaurant: restaurantDetails,\n      onClose: () => setRestaurantDetails(null)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 236,\n    columnNumber: 9\n  }, this);\n};\n_s(Home, \"YDXLXQzQTLiv7+gDEzMJF45pVw8=\", false, function () {\n  return [useUser, useSearch];\n});\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useEffect","useState","useRef","axios","useUser","FaStar","FaStarHalfAlt","DescriptionModal","RestaurantModal","useSearch","jsxDEV","_jsxDEV","foodCategories","name","icon","Home","_s","user","selectedCategory","setSelectedCategory","menuItems","setMenuItems","allMenuItems","setAllMenuItems","selectedItem","setSelectedItem","foods","setFoods","restaurantNames","setRestaurantNames","selectedRestaurant","setSelectedRestaurant","restaurantDetails","setRestaurantDetails","filters","setFilters","ratingAbove3","ratingAbove4","price100to200","price200to300","price300to400","vegetarian","nonVegetarian","scrollRef","restaurants","setRestaurants","allRestaurants","setAllRestaurants","searchQuery","fetchRestaurantNames","namePromises","map","item","response","get","restaurantId","itemId","_id","data","error","console","results","Promise","all","namesMap","forEach","result","length","then","res","catch","err","approvedRestaurants","filter","restaurant","approved","filteredItems","toLowerCase","includes","rating","price","type","filteredRestaurants","handleFilterChange","filterType","prevFilters","renderStars","fullStars","Math","floor","halfStar","className","children","Array","_","i","color","fileName","_jsxFileName","lineNumber","columnNumber","renderResStars","handleBuyNow","scrollLeft","current","scrollBy","left","behavior","scrollRight","interval","setInterval","clearInterval","handleRestaurantClick","index","onClick","style","textAlign","marginLeft","ref","src","alt","border","padding","borderRadius","backgroundColor","display","width","boxShadow","transition","fontFamily","fontSize","fontWeight","opacity","margin","description","onClose","_c","$RefreshReg$"],"sources":["C:/Users/abhin/Desktop/GitHub/Foody/frontend/src/pages/HomePage.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"../styles/Homepage.css\";\r\nimport { useUser } from \"../context/UserContext\";\r\nimport { FaStar, FaStarHalfAlt } from \"react-icons/fa\";\r\nimport DescriptionModal from \"./Description\";\r\nimport RestaurantModal from \"./RestaurantModel\"; // Import the new component\r\nimport { useSearch } from \"../context/SearchContext\";\r\n\r\nconst foodCategories = [\r\n    { name: \"Pizza\", icon: \"🍕\" },\r\n    { name: \"Burger\", icon: \"🍔\" },\r\n    { name: \"Sushi\", icon: \"🍣\" },\r\n    { name: \"Drinks\", icon: \"🥤\" },\r\n    { name: \"Donut\", icon: \"🍩\" },\r\n    { name: \"Salads\", icon: \"🥗\" },\r\n    { name: \"Steak\", icon: \"🥩\" },\r\n    { name: \"Pasta\", icon: \"🍝\" },\r\n    { name: \"Ice Cream\", icon: \"🍦\" },\r\n];\r\n\r\nconst Home = () => {\r\n    const { user } = useUser();\r\n    const [selectedCategory, setSelectedCategory] = useState(null);\r\n    const [menuItems, setMenuItems] = useState([]);\r\n    const [allMenuItems, setAllMenuItems] = useState([]);\r\n    const [selectedItem, setSelectedItem] = useState(null);\r\n    const [foods, setFoods] = useState([]);\r\n    const [restaurantNames, setRestaurantNames] = useState({});//restname\r\n\r\n    const [selectedRestaurant, setSelectedRestaurant] = useState(null);\r\n    const [restaurantDetails, setRestaurantDetails] = useState(null); // Add this state for restaurant modal\r\n    const [filters, setFilters] = useState({\r\n        ratingAbove3: false,\r\n        ratingAbove4: false,\r\n        price100to200: false,\r\n        price200to300: false,\r\n        price300to400: false,\r\n        vegetarian: false,\r\n        nonVegetarian: false,\r\n    });\r\n\r\n    const scrollRef = useRef(null);\r\n    const [restaurants, setRestaurants] = useState([]);\r\n    const [allRestaurants, setAllRestaurants] = useState([]);\r\n    const { searchQuery } = useSearch(); \r\n    \r\n    //restname\r\n    useEffect(() => {\r\n        const fetchRestaurantNames = async () => {\r\n            const namePromises = menuItems.map(async (item) => {\r\n                try {\r\n                    const response = await axios.get(`http://localhost:5000/api/auth/menu-items/restaurant/name/${item.restaurantId}`);\r\n                    return { itemId: item._id, name: response.data.name };\r\n                } catch (error) {\r\n                    console.error('Error fetching restaurant name:', error);\r\n                    return { itemId: item._id, name: 'Unknown Restaurant' };\r\n                }\r\n            });\r\n            \r\n            const results = await Promise.all(namePromises);\r\n            \r\n            // Convert array of results to an object with item IDs as keys\r\n            const namesMap = {};\r\n            results.forEach(result => {\r\n                namesMap[result.itemId] = result.name;\r\n            });\r\n            \r\n            setRestaurantNames(namesMap);\r\n        };\r\n    \r\n        if (menuItems.length > 0) {\r\n            fetchRestaurantNames();\r\n        }\r\n    }, [menuItems]);\r\n\r\n    useEffect(() => {\r\n        axios.get(\"http://localhost:5000/api/auth/menu-items\")\r\n            .then(res => {\r\n                setAllMenuItems(res.data);\r\n                setMenuItems(res.data);\r\n            })\r\n            .catch(err => console.error(err));\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        axios.get(\"http://localhost:5000/api/auth/admin/restaurants\")\r\n            .then(res => {\r\n                const approvedRestaurants = res.data.filter(restaurant => restaurant.approved);\r\n                setRestaurants(approvedRestaurants);\r\n                setAllRestaurants(approvedRestaurants);\r\n            })\r\n            .catch(err => console.error(err));\r\n    }, []);\r\n    \r\n    useEffect(() => {\r\n        if (selectedRestaurant) {\r\n            setMenuItems(allMenuItems.filter(item => item.restaurantId === selectedRestaurant._id));\r\n        } else {\r\n            setMenuItems(allMenuItems);\r\n        }\r\n    }, [selectedRestaurant, allMenuItems]);\r\n    \r\n    useEffect(() => {\r\n        let filteredItems = allMenuItems;\r\n\r\n        if (selectedCategory) {\r\n            filteredItems = filteredItems.filter(item =>\r\n                item.name.toLowerCase().includes(selectedCategory.toLowerCase())\r\n            );\r\n        }\r\n\r\n        if (searchQuery) {\r\n            filteredItems = filteredItems.filter(item =>\r\n                item.name.toLowerCase().includes(searchQuery.toLowerCase())\r\n            );\r\n        }\r\n\r\n        if (filters.ratingAbove3) {\r\n            filteredItems = filteredItems.filter(item => item.rating >= 3);\r\n        }\r\n\r\n        if (filters.ratingAbove4) {\r\n            filteredItems = filteredItems.filter(item => item.rating >= 4);\r\n        }\r\n\r\n        if (filters.price100to200) {\r\n            filteredItems = filteredItems.filter(item => item.price >= 100 && item.price <= 200);\r\n        }\r\n\r\n        if (filters.price200to300) {\r\n            filteredItems = filteredItems.filter(item => item.price >= 200 && item.price <= 300);\r\n        }\r\n\r\n        if (filters.price300to400) {\r\n            filteredItems = filteredItems.filter(item => item.price >= 300 && item.price <= 400);\r\n        }\r\n\r\n        if (filters.vegetarian) {\r\n            filteredItems = filteredItems.filter(item => item.type === \"Vegetarian\");\r\n        }\r\n\r\n        if (filters.nonVegetarian) {\r\n            filteredItems = filteredItems.filter(item => item.type === \"Non-Vegetarian\");\r\n        }\r\n\r\n        setMenuItems(filteredItems);\r\n    }, [selectedCategory, searchQuery, allMenuItems, filters]);\r\n\r\n    useEffect(() => {\r\n        if (searchQuery) {\r\n            const filteredRestaurants = allRestaurants.filter(restaurant =>\r\n                restaurant.name.toLowerCase().includes(searchQuery.toLowerCase())\r\n            );\r\n            setRestaurants(filteredRestaurants);\r\n        } else {\r\n            setRestaurants(allRestaurants);\r\n        }\r\n    }, [searchQuery, allRestaurants]);\r\n\r\n\r\n    const handleFilterChange = (filterType) => {\r\n        setFilters(prevFilters => ({\r\n            ...prevFilters,\r\n            [filterType]: !prevFilters[filterType]\r\n        }));\r\n    };\r\n\r\n    const renderStars = (rating) => {\r\n        const fullStars = Math.floor(rating);\r\n        const halfStar = rating % 1 >= 0.5;\r\n        return (\r\n            <div className=\"star-rating\">\r\n                {[...Array(fullStars)].map((_, i) => (\r\n                    <FaStar key={`full-${i}`} color=\"red\" />\r\n                ))}\r\n                {halfStar && <FaStarHalfAlt key=\"half\" color=\"red\" />}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const renderResStars = (rating) => {\r\n        const fullStars = Math.floor(rating);\r\n        const halfStar = rating % 1 >= 0.5;\r\n        return (\r\n            <div className=\"star-rating\">\r\n                {[...Array(fullStars)].map((_, i) => (\r\n                    <FaStar key={`full-${i}`} color=\"gold\" />\r\n                ))}\r\n                {halfStar && <FaStarHalfAlt key=\"half\" color=\"gold\" />}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const handleBuyNow = (item) => {\r\n        setSelectedItem(item);\r\n    };\r\n\r\n    const scrollLeft = () => {\r\n        if (scrollRef.current) {\r\n            scrollRef.current.scrollBy({ left: -300, behavior: \"smooth\" });\r\n        }\r\n    };\r\n\r\n    const scrollRight = () => {\r\n        if (scrollRef.current) {\r\n            scrollRef.current.scrollBy({ left: 300, behavior: \"smooth\" });\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        const interval = setInterval(() => {\r\n            if (scrollRef.current) {\r\n                scrollRef.current.scrollBy({ left: 300, behavior: \"smooth\" });\r\n            }\r\n        }, 2000);\r\n        return () => clearInterval(interval);\r\n    }, []);\r\n\r\n    // Function to fetch restaurant details when clicked\r\n    const handleRestaurantClick = async (restaurant) => {\r\n        try {\r\n            // Set the restaurant immediately to show the modal faster\r\n            setRestaurantDetails(restaurant);\r\n            \r\n            // Then fetch additional details if needed\r\n            const response = await axios.get(`http://localhost:5000/api/auth/restaurants/name/${restaurant._id}`);\r\n            setRestaurantDetails(response.data);\r\n            setSelectedRestaurant(response.data);\r\n        } catch (error) {\r\n            console.error(\"Error fetching restaurant details:\", error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"home-container-kjmn\">\r\n            <div className=\"scroll-container-kjmn\">\r\n                <div className=\"scroll-wrapper-kjmn\">\r\n                    {[...foodCategories, ...foodCategories, ...foodCategories].map((item, index) => (\r\n                        <div \r\n                            key={index} \r\n                            className=\"food-icon-kjmn\" \r\n                            onClick={() => setSelectedCategory(item.name)}\r\n                        >\r\n                            {item.icon}\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Heading */}\r\n            <h2 className=\"menu-heading\" style={{ textAlign: \"left\", marginLeft: \"20px\" }}>\r\n                Here you go! Choose your favorite meal 🍽️\r\n            </h2>\r\n\r\n            {/* Filter Buttons */}\r\n            <div className=\"filter-container\">\r\n                <button \r\n                    className={`filter-btn ${filters.ratingAbove3 ? \"active\" : \"\"}`} \r\n                    onClick={() => handleFilterChange(\"ratingAbove3\")}\r\n                >\r\n                    Rating 3 & Above\r\n                </button>\r\n\r\n                <button \r\n                    className={`filter-btn ${filters.ratingAbove4 ? \"active\" : \"\"}`} \r\n                    onClick={() => handleFilterChange(\"ratingAbove4\")}\r\n                >\r\n                    Rating 4 & Above\r\n                </button>\r\n\r\n                <button \r\n                    className={`filter-btn ${filters.price100to200 ? \"active\" : \"\"}`} \r\n                    onClick={() => handleFilterChange(\"price100to200\")}\r\n                >\r\n                    Price ₹100 - ₹200\r\n                </button>\r\n\r\n                <button \r\n                    className={`filter-btn ${filters.price200to300 ? \"active\" : \"\"}`} \r\n                    onClick={() => handleFilterChange(\"price200to300\")}\r\n                >\r\n                    Price ₹200 - ₹300\r\n                </button>\r\n\r\n                <button \r\n                    className={`filter-btn ${filters.price300to400 ? \"active\" : \"\"}`} \r\n                    onClick={() => handleFilterChange(\"price300to400\")}\r\n                >\r\n                    Price ₹300 - ₹400\r\n                </button>\r\n\r\n                {/* <button \r\n                    className={`filter-btn ${filters.vegetarian ? \"active\" : \"\"}`} \r\n                    onClick={() => handleFilterChange(\"vegetarian\")}\r\n                >\r\n                    Vegetarian\r\n                </button> */}\r\n\r\n                {/* <button \r\n                    className={`filter-btn ${filters.nonVegetarian ? \"active\" : \"\"}`} \r\n                    onClick={() => handleFilterChange(\"nonVegetarian\")}\r\n                >\r\n                    Non-Vegetarian\r\n                </button> */}\r\n            </div>\r\n\r\n            <div className=\"menu-scroll-container\">\r\n            <button className=\"scroll-btn left\" onClick={scrollLeft}>&lt;</button>\r\n                <div className=\"menu-scroll-wrapper\" ref={scrollRef}>\r\n                    {menuItems.length > 0 ? (\r\n                        menuItems.map(item => (\r\n                            <div key={item._id} className=\"menu-card-kjmn\">\r\n                                <img className=\"menu-image-kjmn\" src={`http://localhost:5000/api/auth/restaurant/menu/image/${item._id}`} alt={item.name} />\r\n                                <div className=\"menu-info-kjmn\">\r\n                                    <div className=\"menu-title\">\r\n                                        <h3>{item.name}</h3>\r\n                                        <div style={{\r\n    border: \"2px solid #ddd\",\r\n    padding: \"12px 20px\",\r\n    borderRadius: \"12px\",\r\n    backgroundColor: \"#f5f5f5\",\r\n    display: \"inline-block\",\r\n    textAlign: \"center\",\r\n    width: \"200px\",  // Increased width to make it stretch a little\r\n    boxShadow: \"4px 4px 10px rgba(0, 0, 0, 0.1)\",\r\n    transition: \"0.3s\",\r\n    fontFamily: \"Arial, sans-serif\"\r\n}}>\r\n                                        <label style={{ \r\n        color: \"#777\", \r\n        fontSize: \"12px\", \r\n        fontWeight: \"bold\", \r\n        display: \"block\",\r\n        opacity: \"0.7\"  // Makes the label dimmer\r\n    }}>\r\n        Restaurant\r\n    </label>\r\n    <h4 style={{ \r\n        color: \"#333\", \r\n        fontSize: \"14px\", \r\n        margin: \"5px 0\",\r\n        fontWeight: \"500\" \r\n    }}>\r\n        {restaurantNames[item._id]}\r\n    </h4>\r\n    </div>\r\n                                        <div className=\"rating-container\">\r\n                                            {renderStars(item.rating)}\r\n                                            <button className=\"buy-now-btn\" onClick={() => handleBuyNow(item)}>\r\n                                                Buy Now\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                    <p className=\"menu-desc-kjmn\">{item.description || \"No description available.\"}</p>\r\n                                    <p className=\"menu-price-kjmn\" style={{ color: \"green\", fontWeight: \"bold\" }}>₹{item.price} </p>\r\n                                </div>\r\n                                \r\n                            </div>\r\n                        ))\r\n                    ) : (\r\n                        <p className=\"no-items\">No items found in this category</p>\r\n                    )}\r\n                </div>\r\n                <button className=\"scroll-btn right\" onClick={scrollRight}>&gt;</button>\r\n            </div>\r\n            <div className=\"best-restaurants-container\">\r\n                <h2>Best Restaurants 🍽️</h2>\r\n                <div className=\"restaurant-list\">\r\n                    {restaurants.length > 0 ? (\r\n                        restaurants.map(restaurant => (\r\n                            <div \r\n                                key={restaurant._id} \r\n                                className=\"restaurant-box\"\r\n                                onClick={() => handleRestaurantClick(restaurant)}\r\n                            >\r\n                                <h3>{restaurant.name}</h3>\r\n                                <div className=\"rating-container\">\r\n                                    {renderResStars(restaurant.rating)}\r\n                                    <span>({restaurant.rating})</span>\r\n                                </div>\r\n                            </div>\r\n                        ))\r\n                    ) : (\r\n                        <p>No approved restaurants available</p>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            {selectedItem && (\r\n                <DescriptionModal item={selectedItem} onClose={() => setSelectedItem(null)} />\r\n            )}\r\n            \r\n            {/* Restaurant Modal */}\r\n            {restaurantDetails && (\r\n                <RestaurantModal \r\n                    restaurant={restaurantDetails} \r\n                    onClose={() => setRestaurantDetails(null)} \r\n                />\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Home;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,EAAEC,MAAM,QAAQ,OAAO;AAC1D,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,wBAAwB;AAC/B,SAASC,OAAO,QAAQ,wBAAwB;AAChD,SAASC,MAAM,EAAEC,aAAa,QAAQ,gBAAgB;AACtD,OAAOC,gBAAgB,MAAM,eAAe;AAC5C,OAAOC,eAAe,MAAM,mBAAmB,CAAC,CAAC;AACjD,SAASC,SAAS,QAAQ,0BAA0B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErD,MAAMC,cAAc,GAAG,CACnB;EAAEC,IAAI,EAAE,OAAO;EAAEC,IAAI,EAAE;AAAK,CAAC,EAC7B;EAAED,IAAI,EAAE,QAAQ;EAAEC,IAAI,EAAE;AAAK,CAAC,EAC9B;EAAED,IAAI,EAAE,OAAO;EAAEC,IAAI,EAAE;AAAK,CAAC,EAC7B;EAAED,IAAI,EAAE,QAAQ;EAAEC,IAAI,EAAE;AAAK,CAAC,EAC9B;EAAED,IAAI,EAAE,OAAO;EAAEC,IAAI,EAAE;AAAK,CAAC,EAC7B;EAAED,IAAI,EAAE,QAAQ;EAAEC,IAAI,EAAE;AAAK,CAAC,EAC9B;EAAED,IAAI,EAAE,OAAO;EAAEC,IAAI,EAAE;AAAK,CAAC,EAC7B;EAAED,IAAI,EAAE,OAAO;EAAEC,IAAI,EAAE;AAAK,CAAC,EAC7B;EAAED,IAAI,EAAE,WAAW;EAAEC,IAAI,EAAE;AAAK,CAAC,CACpC;AAED,MAAMC,IAAI,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACf,MAAM;IAAEC;EAAK,CAAC,GAAGb,OAAO,CAAC,CAAC;EAC1B,MAAM,CAACc,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGlB,QAAQ,CAAC,IAAI,CAAC;EAC9D,MAAM,CAACmB,SAAS,EAAEC,YAAY,CAAC,GAAGpB,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACqB,YAAY,EAAEC,eAAe,CAAC,GAAGtB,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACuB,YAAY,EAAEC,eAAe,CAAC,GAAGxB,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAACyB,KAAK,EAAEC,QAAQ,CAAC,GAAG1B,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAAC2B,eAAe,EAAEC,kBAAkB,CAAC,GAAG5B,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;;EAE3D,MAAM,CAAC6B,kBAAkB,EAAEC,qBAAqB,CAAC,GAAG9B,QAAQ,CAAC,IAAI,CAAC;EAClE,MAAM,CAAC+B,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGhC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;EAClE,MAAM,CAACiC,OAAO,EAAEC,UAAU,CAAC,GAAGlC,QAAQ,CAAC;IACnCmC,YAAY,EAAE,KAAK;IACnBC,YAAY,EAAE,KAAK;IACnBC,aAAa,EAAE,KAAK;IACpBC,aAAa,EAAE,KAAK;IACpBC,aAAa,EAAE,KAAK;IACpBC,UAAU,EAAE,KAAK;IACjBC,aAAa,EAAE;EACnB,CAAC,CAAC;EAEF,MAAMC,SAAS,GAAGzC,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAM,CAAC0C,WAAW,EAAEC,cAAc,CAAC,GAAG5C,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAAC6C,cAAc,EAAEC,iBAAiB,CAAC,GAAG9C,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM;IAAE+C;EAAY,CAAC,GAAGvC,SAAS,CAAC,CAAC;;EAEnC;EACAT,SAAS,CAAC,MAAM;IACZ,MAAMiD,oBAAoB,GAAG,MAAAA,CAAA,KAAY;MACrC,MAAMC,YAAY,GAAG9B,SAAS,CAAC+B,GAAG,CAAC,MAAOC,IAAI,IAAK;QAC/C,IAAI;UACA,MAAMC,QAAQ,GAAG,MAAMlD,KAAK,CAACmD,GAAG,CAAC,6DAA6DF,IAAI,CAACG,YAAY,EAAE,CAAC;UAClH,OAAO;YAAEC,MAAM,EAAEJ,IAAI,CAACK,GAAG;YAAE5C,IAAI,EAAEwC,QAAQ,CAACK,IAAI,CAAC7C;UAAK,CAAC;QACzD,CAAC,CAAC,OAAO8C,KAAK,EAAE;UACZC,OAAO,CAACD,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;UACvD,OAAO;YAAEH,MAAM,EAAEJ,IAAI,CAACK,GAAG;YAAE5C,IAAI,EAAE;UAAqB,CAAC;QAC3D;MACJ,CAAC,CAAC;MAEF,MAAMgD,OAAO,GAAG,MAAMC,OAAO,CAACC,GAAG,CAACb,YAAY,CAAC;;MAE/C;MACA,MAAMc,QAAQ,GAAG,CAAC,CAAC;MACnBH,OAAO,CAACI,OAAO,CAACC,MAAM,IAAI;QACtBF,QAAQ,CAACE,MAAM,CAACV,MAAM,CAAC,GAAGU,MAAM,CAACrD,IAAI;MACzC,CAAC,CAAC;MAEFgB,kBAAkB,CAACmC,QAAQ,CAAC;IAChC,CAAC;IAED,IAAI5C,SAAS,CAAC+C,MAAM,GAAG,CAAC,EAAE;MACtBlB,oBAAoB,CAAC,CAAC;IAC1B;EACJ,CAAC,EAAE,CAAC7B,SAAS,CAAC,CAAC;EAEfpB,SAAS,CAAC,MAAM;IACZG,KAAK,CAACmD,GAAG,CAAC,2CAA2C,CAAC,CACjDc,IAAI,CAACC,GAAG,IAAI;MACT9C,eAAe,CAAC8C,GAAG,CAACX,IAAI,CAAC;MACzBrC,YAAY,CAACgD,GAAG,CAACX,IAAI,CAAC;IAC1B,CAAC,CAAC,CACDY,KAAK,CAACC,GAAG,IAAIX,OAAO,CAACD,KAAK,CAACY,GAAG,CAAC,CAAC;EACzC,CAAC,EAAE,EAAE,CAAC;EAENvE,SAAS,CAAC,MAAM;IACZG,KAAK,CAACmD,GAAG,CAAC,kDAAkD,CAAC,CACxDc,IAAI,CAACC,GAAG,IAAI;MACT,MAAMG,mBAAmB,GAAGH,GAAG,CAACX,IAAI,CAACe,MAAM,CAACC,UAAU,IAAIA,UAAU,CAACC,QAAQ,CAAC;MAC9E9B,cAAc,CAAC2B,mBAAmB,CAAC;MACnCzB,iBAAiB,CAACyB,mBAAmB,CAAC;IAC1C,CAAC,CAAC,CACDF,KAAK,CAACC,GAAG,IAAIX,OAAO,CAACD,KAAK,CAACY,GAAG,CAAC,CAAC;EACzC,CAAC,EAAE,EAAE,CAAC;EAENvE,SAAS,CAAC,MAAM;IACZ,IAAI8B,kBAAkB,EAAE;MACpBT,YAAY,CAACC,YAAY,CAACmD,MAAM,CAACrB,IAAI,IAAIA,IAAI,CAACG,YAAY,KAAKzB,kBAAkB,CAAC2B,GAAG,CAAC,CAAC;IAC3F,CAAC,MAAM;MACHpC,YAAY,CAACC,YAAY,CAAC;IAC9B;EACJ,CAAC,EAAE,CAACQ,kBAAkB,EAAER,YAAY,CAAC,CAAC;EAEtCtB,SAAS,CAAC,MAAM;IACZ,IAAI4E,aAAa,GAAGtD,YAAY;IAEhC,IAAIJ,gBAAgB,EAAE;MAClB0D,aAAa,GAAGA,aAAa,CAACH,MAAM,CAACrB,IAAI,IACrCA,IAAI,CAACvC,IAAI,CAACgE,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC5D,gBAAgB,CAAC2D,WAAW,CAAC,CAAC,CACnE,CAAC;IACL;IAEA,IAAI7B,WAAW,EAAE;MACb4B,aAAa,GAAGA,aAAa,CAACH,MAAM,CAACrB,IAAI,IACrCA,IAAI,CAACvC,IAAI,CAACgE,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC9B,WAAW,CAAC6B,WAAW,CAAC,CAAC,CAC9D,CAAC;IACL;IAEA,IAAI3C,OAAO,CAACE,YAAY,EAAE;MACtBwC,aAAa,GAAGA,aAAa,CAACH,MAAM,CAACrB,IAAI,IAAIA,IAAI,CAAC2B,MAAM,IAAI,CAAC,CAAC;IAClE;IAEA,IAAI7C,OAAO,CAACG,YAAY,EAAE;MACtBuC,aAAa,GAAGA,aAAa,CAACH,MAAM,CAACrB,IAAI,IAAIA,IAAI,CAAC2B,MAAM,IAAI,CAAC,CAAC;IAClE;IAEA,IAAI7C,OAAO,CAACI,aAAa,EAAE;MACvBsC,aAAa,GAAGA,aAAa,CAACH,MAAM,CAACrB,IAAI,IAAIA,IAAI,CAAC4B,KAAK,IAAI,GAAG,IAAI5B,IAAI,CAAC4B,KAAK,IAAI,GAAG,CAAC;IACxF;IAEA,IAAI9C,OAAO,CAACK,aAAa,EAAE;MACvBqC,aAAa,GAAGA,aAAa,CAACH,MAAM,CAACrB,IAAI,IAAIA,IAAI,CAAC4B,KAAK,IAAI,GAAG,IAAI5B,IAAI,CAAC4B,KAAK,IAAI,GAAG,CAAC;IACxF;IAEA,IAAI9C,OAAO,CAACM,aAAa,EAAE;MACvBoC,aAAa,GAAGA,aAAa,CAACH,MAAM,CAACrB,IAAI,IAAIA,IAAI,CAAC4B,KAAK,IAAI,GAAG,IAAI5B,IAAI,CAAC4B,KAAK,IAAI,GAAG,CAAC;IACxF;IAEA,IAAI9C,OAAO,CAACO,UAAU,EAAE;MACpBmC,aAAa,GAAGA,aAAa,CAACH,MAAM,CAACrB,IAAI,IAAIA,IAAI,CAAC6B,IAAI,KAAK,YAAY,CAAC;IAC5E;IAEA,IAAI/C,OAAO,CAACQ,aAAa,EAAE;MACvBkC,aAAa,GAAGA,aAAa,CAACH,MAAM,CAACrB,IAAI,IAAIA,IAAI,CAAC6B,IAAI,KAAK,gBAAgB,CAAC;IAChF;IAEA5D,YAAY,CAACuD,aAAa,CAAC;EAC/B,CAAC,EAAE,CAAC1D,gBAAgB,EAAE8B,WAAW,EAAE1B,YAAY,EAAEY,OAAO,CAAC,CAAC;EAE1DlC,SAAS,CAAC,MAAM;IACZ,IAAIgD,WAAW,EAAE;MACb,MAAMkC,mBAAmB,GAAGpC,cAAc,CAAC2B,MAAM,CAACC,UAAU,IACxDA,UAAU,CAAC7D,IAAI,CAACgE,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC9B,WAAW,CAAC6B,WAAW,CAAC,CAAC,CACpE,CAAC;MACDhC,cAAc,CAACqC,mBAAmB,CAAC;IACvC,CAAC,MAAM;MACHrC,cAAc,CAACC,cAAc,CAAC;IAClC;EACJ,CAAC,EAAE,CAACE,WAAW,EAAEF,cAAc,CAAC,CAAC;EAGjC,MAAMqC,kBAAkB,GAAIC,UAAU,IAAK;IACvCjD,UAAU,CAACkD,WAAW,KAAK;MACvB,GAAGA,WAAW;MACd,CAACD,UAAU,GAAG,CAACC,WAAW,CAACD,UAAU;IACzC,CAAC,CAAC,CAAC;EACP,CAAC;EAED,MAAME,WAAW,GAAIP,MAAM,IAAK;IAC5B,MAAMQ,SAAS,GAAGC,IAAI,CAACC,KAAK,CAACV,MAAM,CAAC;IACpC,MAAMW,QAAQ,GAAGX,MAAM,GAAG,CAAC,IAAI,GAAG;IAClC,oBACIpE,OAAA;MAAKgF,SAAS,EAAC,aAAa;MAAAC,QAAA,GACvB,CAAC,GAAGC,KAAK,CAACN,SAAS,CAAC,CAAC,CAACpC,GAAG,CAAC,CAAC2C,CAAC,EAAEC,CAAC,kBAC5BpF,OAAA,CAACN,MAAM;QAAmB2F,KAAK,EAAC;MAAK,GAAxB,QAAQD,CAAC,EAAE;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAe,CAC1C,CAAC,EACDV,QAAQ,iBAAI/E,OAAA,CAACL,aAAa;QAAY0F,KAAK,EAAC;MAAK,GAAlB,MAAM;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAc,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpD,CAAC;EAEd,CAAC;EAED,MAAMC,cAAc,GAAItB,MAAM,IAAK;IAC/B,MAAMQ,SAAS,GAAGC,IAAI,CAACC,KAAK,CAACV,MAAM,CAAC;IACpC,MAAMW,QAAQ,GAAGX,MAAM,GAAG,CAAC,IAAI,GAAG;IAClC,oBACIpE,OAAA;MAAKgF,SAAS,EAAC,aAAa;MAAAC,QAAA,GACvB,CAAC,GAAGC,KAAK,CAACN,SAAS,CAAC,CAAC,CAACpC,GAAG,CAAC,CAAC2C,CAAC,EAAEC,CAAC,kBAC5BpF,OAAA,CAACN,MAAM;QAAmB2F,KAAK,EAAC;MAAM,GAAzB,QAAQD,CAAC,EAAE;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAgB,CAC3C,CAAC,EACDV,QAAQ,iBAAI/E,OAAA,CAACL,aAAa;QAAY0F,KAAK,EAAC;MAAM,GAAnB,MAAM;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAe,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACrD,CAAC;EAEd,CAAC;EAED,MAAME,YAAY,GAAIlD,IAAI,IAAK;IAC3B3B,eAAe,CAAC2B,IAAI,CAAC;EACzB,CAAC;EAED,MAAMmD,UAAU,GAAGA,CAAA,KAAM;IACrB,IAAI5D,SAAS,CAAC6D,OAAO,EAAE;MACnB7D,SAAS,CAAC6D,OAAO,CAACC,QAAQ,CAAC;QAAEC,IAAI,EAAE,CAAC,GAAG;QAAEC,QAAQ,EAAE;MAAS,CAAC,CAAC;IAClE;EACJ,CAAC;EAED,MAAMC,WAAW,GAAGA,CAAA,KAAM;IACtB,IAAIjE,SAAS,CAAC6D,OAAO,EAAE;MACnB7D,SAAS,CAAC6D,OAAO,CAACC,QAAQ,CAAC;QAAEC,IAAI,EAAE,GAAG;QAAEC,QAAQ,EAAE;MAAS,CAAC,CAAC;IACjE;EACJ,CAAC;EAED3G,SAAS,CAAC,MAAM;IACZ,MAAM6G,QAAQ,GAAGC,WAAW,CAAC,MAAM;MAC/B,IAAInE,SAAS,CAAC6D,OAAO,EAAE;QACnB7D,SAAS,CAAC6D,OAAO,CAACC,QAAQ,CAAC;UAAEC,IAAI,EAAE,GAAG;UAAEC,QAAQ,EAAE;QAAS,CAAC,CAAC;MACjE;IACJ,CAAC,EAAE,IAAI,CAAC;IACR,OAAO,MAAMI,aAAa,CAACF,QAAQ,CAAC;EACxC,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMG,qBAAqB,GAAG,MAAOtC,UAAU,IAAK;IAChD,IAAI;MACA;MACAzC,oBAAoB,CAACyC,UAAU,CAAC;;MAEhC;MACA,MAAMrB,QAAQ,GAAG,MAAMlD,KAAK,CAACmD,GAAG,CAAC,mDAAmDoB,UAAU,CAACjB,GAAG,EAAE,CAAC;MACrGxB,oBAAoB,CAACoB,QAAQ,CAACK,IAAI,CAAC;MACnC3B,qBAAqB,CAACsB,QAAQ,CAACK,IAAI,CAAC;IACxC,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,oCAAoC,EAAEA,KAAK,CAAC;IAC9D;EACJ,CAAC;EAED,oBACIhD,OAAA;IAAKgF,SAAS,EAAC,qBAAqB;IAAAC,QAAA,gBAChCjF,OAAA;MAAKgF,SAAS,EAAC,uBAAuB;MAAAC,QAAA,eAClCjF,OAAA;QAAKgF,SAAS,EAAC,qBAAqB;QAAAC,QAAA,EAC/B,CAAC,GAAGhF,cAAc,EAAE,GAAGA,cAAc,EAAE,GAAGA,cAAc,CAAC,CAACuC,GAAG,CAAC,CAACC,IAAI,EAAE6D,KAAK,kBACvEtG,OAAA;UAEIgF,SAAS,EAAC,gBAAgB;UAC1BuB,OAAO,EAAEA,CAAA,KAAM/F,mBAAmB,CAACiC,IAAI,CAACvC,IAAI,CAAE;UAAA+E,QAAA,EAE7CxC,IAAI,CAACtC;QAAI,GAJLmG,KAAK;UAAAhB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAKT,CACR;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,eAGNzF,OAAA;MAAIgF,SAAS,EAAC,cAAc;MAACwB,KAAK,EAAE;QAAEC,SAAS,EAAE,MAAM;QAAEC,UAAU,EAAE;MAAO,CAAE;MAAAzB,QAAA,EAAC;IAE/E;MAAAK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAGLzF,OAAA;MAAKgF,SAAS,EAAC,kBAAkB;MAAAC,QAAA,gBAC7BjF,OAAA;QACIgF,SAAS,EAAE,cAAczD,OAAO,CAACE,YAAY,GAAG,QAAQ,GAAG,EAAE,EAAG;QAChE8E,OAAO,EAAEA,CAAA,KAAM/B,kBAAkB,CAAC,cAAc,CAAE;QAAAS,QAAA,EACrD;MAED;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eAETzF,OAAA;QACIgF,SAAS,EAAE,cAAczD,OAAO,CAACG,YAAY,GAAG,QAAQ,GAAG,EAAE,EAAG;QAChE6E,OAAO,EAAEA,CAAA,KAAM/B,kBAAkB,CAAC,cAAc,CAAE;QAAAS,QAAA,EACrD;MAED;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eAETzF,OAAA;QACIgF,SAAS,EAAE,cAAczD,OAAO,CAACI,aAAa,GAAG,QAAQ,GAAG,EAAE,EAAG;QACjE4E,OAAO,EAAEA,CAAA,KAAM/B,kBAAkB,CAAC,eAAe,CAAE;QAAAS,QAAA,EACtD;MAED;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eAETzF,OAAA;QACIgF,SAAS,EAAE,cAAczD,OAAO,CAACK,aAAa,GAAG,QAAQ,GAAG,EAAE,EAAG;QACjE2E,OAAO,EAAEA,CAAA,KAAM/B,kBAAkB,CAAC,eAAe,CAAE;QAAAS,QAAA,EACtD;MAED;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eAETzF,OAAA;QACIgF,SAAS,EAAE,cAAczD,OAAO,CAACM,aAAa,GAAG,QAAQ,GAAG,EAAE,EAAG;QACjE0E,OAAO,EAAEA,CAAA,KAAM/B,kBAAkB,CAAC,eAAe,CAAE;QAAAS,QAAA,EACtD;MAED;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAeR,CAAC,eAENzF,OAAA;MAAKgF,SAAS,EAAC,uBAAuB;MAAAC,QAAA,gBACtCjF,OAAA;QAAQgF,SAAS,EAAC,iBAAiB;QAACuB,OAAO,EAAEX,UAAW;QAAAX,QAAA,EAAC;MAAI;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eAClEzF,OAAA;QAAKgF,SAAS,EAAC,qBAAqB;QAAC2B,GAAG,EAAE3E,SAAU;QAAAiD,QAAA,EAC/CxE,SAAS,CAAC+C,MAAM,GAAG,CAAC,GACjB/C,SAAS,CAAC+B,GAAG,CAACC,IAAI,iBACdzC,OAAA;UAAoBgF,SAAS,EAAC,gBAAgB;UAAAC,QAAA,gBAC1CjF,OAAA;YAAKgF,SAAS,EAAC,iBAAiB;YAAC4B,GAAG,EAAE,wDAAwDnE,IAAI,CAACK,GAAG,EAAG;YAAC+D,GAAG,EAAEpE,IAAI,CAACvC;UAAK;YAAAoF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAC5HzF,OAAA;YAAKgF,SAAS,EAAC,gBAAgB;YAAAC,QAAA,gBAC3BjF,OAAA;cAAKgF,SAAS,EAAC,YAAY;cAAAC,QAAA,gBACvBjF,OAAA;gBAAAiF,QAAA,EAAKxC,IAAI,CAACvC;cAAI;gBAAAoF,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eACpBzF,OAAA;gBAAKwG,KAAK,EAAE;kBAChDM,MAAM,EAAE,gBAAgB;kBACxBC,OAAO,EAAE,WAAW;kBACpBC,YAAY,EAAE,MAAM;kBACpBC,eAAe,EAAE,SAAS;kBAC1BC,OAAO,EAAE,cAAc;kBACvBT,SAAS,EAAE,QAAQ;kBACnBU,KAAK,EAAE,OAAO;kBAAG;kBACjBC,SAAS,EAAE,iCAAiC;kBAC5CC,UAAU,EAAE,MAAM;kBAClBC,UAAU,EAAE;gBAChB,CAAE;gBAAArC,QAAA,gBACsCjF,OAAA;kBAAOwG,KAAK,EAAE;oBAC9CnB,KAAK,EAAE,MAAM;oBACbkC,QAAQ,EAAE,MAAM;oBAChBC,UAAU,EAAE,MAAM;oBAClBN,OAAO,EAAE,OAAO;oBAChBO,OAAO,EAAE,KAAK,CAAE;kBACpB,CAAE;kBAAAxC,QAAA,EAAC;gBAEH;kBAAAK,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eACRzF,OAAA;kBAAIwG,KAAK,EAAE;oBACPnB,KAAK,EAAE,MAAM;oBACbkC,QAAQ,EAAE,MAAM;oBAChBG,MAAM,EAAE,OAAO;oBACfF,UAAU,EAAE;kBAChB,CAAE;kBAAAvC,QAAA,EACGhE,eAAe,CAACwB,IAAI,CAACK,GAAG;gBAAC;kBAAAwC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC1B,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACA,CAAC,eAC8BzF,OAAA;gBAAKgF,SAAS,EAAC,kBAAkB;gBAAAC,QAAA,GAC5BN,WAAW,CAAClC,IAAI,CAAC2B,MAAM,CAAC,eACzBpE,OAAA;kBAAQgF,SAAS,EAAC,aAAa;kBAACuB,OAAO,EAAEA,CAAA,KAAMZ,YAAY,CAAClD,IAAI,CAAE;kBAAAwC,QAAA,EAAC;gBAEnE;kBAAAK,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACR,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CAAC,eACNzF,OAAA;cAAGgF,SAAS,EAAC,gBAAgB;cAAAC,QAAA,EAAExC,IAAI,CAACkF,WAAW,IAAI;YAA2B;cAAArC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACnFzF,OAAA;cAAGgF,SAAS,EAAC,iBAAiB;cAACwB,KAAK,EAAE;gBAAEnB,KAAK,EAAE,OAAO;gBAAEmC,UAAU,EAAE;cAAO,CAAE;cAAAvC,QAAA,GAAC,QAAC,EAACxC,IAAI,CAAC4B,KAAK,EAAC,GAAC;YAAA;cAAAiB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC/F,CAAC;QAAA,GA5CAhD,IAAI,CAACK,GAAG;UAAAwC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OA8Cb,CACR,CAAC,gBAEFzF,OAAA;UAAGgF,SAAS,EAAC,UAAU;UAAAC,QAAA,EAAC;QAA+B;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG;MAC7D;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CAAC,eACNzF,OAAA;QAAQgF,SAAS,EAAC,kBAAkB;QAACuB,OAAO,EAAEN,WAAY;QAAAhB,QAAA,EAAC;MAAI;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACvE,CAAC,eACNzF,OAAA;MAAKgF,SAAS,EAAC,4BAA4B;MAAAC,QAAA,gBACvCjF,OAAA;QAAAiF,QAAA,EAAI;MAAoB;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC7BzF,OAAA;QAAKgF,SAAS,EAAC,iBAAiB;QAAAC,QAAA,EAC3BhD,WAAW,CAACuB,MAAM,GAAG,CAAC,GACnBvB,WAAW,CAACO,GAAG,CAACuB,UAAU,iBACtB/D,OAAA;UAEIgF,SAAS,EAAC,gBAAgB;UAC1BuB,OAAO,EAAEA,CAAA,KAAMF,qBAAqB,CAACtC,UAAU,CAAE;UAAAkB,QAAA,gBAEjDjF,OAAA;YAAAiF,QAAA,EAAKlB,UAAU,CAAC7D;UAAI;YAAAoF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAC1BzF,OAAA;YAAKgF,SAAS,EAAC,kBAAkB;YAAAC,QAAA,GAC5BS,cAAc,CAAC3B,UAAU,CAACK,MAAM,CAAC,eAClCpE,OAAA;cAAAiF,QAAA,GAAM,GAAC,EAAClB,UAAU,CAACK,MAAM,EAAC,GAAC;YAAA;cAAAkB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACjC,CAAC;QAAA,GARD1B,UAAU,CAACjB,GAAG;UAAAwC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OASlB,CACR,CAAC,gBAEFzF,OAAA;UAAAiF,QAAA,EAAG;QAAiC;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG;MAC1C;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,EAEL5E,YAAY,iBACTb,OAAA,CAACJ,gBAAgB;MAAC6C,IAAI,EAAE5B,YAAa;MAAC+G,OAAO,EAAEA,CAAA,KAAM9G,eAAe,CAAC,IAAI;IAAE;MAAAwE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAChF,EAGApE,iBAAiB,iBACdrB,OAAA,CAACH,eAAe;MACZkE,UAAU,EAAE1C,iBAAkB;MAC9BuG,OAAO,EAAEA,CAAA,KAAMtG,oBAAoB,CAAC,IAAI;IAAE;MAAAgE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7C,CACJ;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACA,CAAC;AAEd,CAAC;AAACpF,EAAA,CA7XID,IAAI;EAAA,QACWX,OAAO,EAuBAK,SAAS;AAAA;AAAA+H,EAAA,GAxB/BzH,IAAI;AA+XV,eAAeA,IAAI;AAAC,IAAAyH,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}